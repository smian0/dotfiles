# Claude Code Configuration Directory

This directory contains configuration files and resources for Claude Code, organized into specialized components for enhanced AI-assisted development.

## Directory Structure

```
claude/.claude/
├── .mcp.json                  # MCP server configuration (auto-generated)
├── CLAUDE.md                  # Main behavioral configuration
├── CLAUDE_BEST_PRACTICES.md   # Guidelines for effective Claude.md usage
├── PROFILE_USAGE_GUIDE.md     # Comprehensive profile management guide
├── settings.json              # Claude Code settings and permissions
├── profiles/                  # MCP profile configurations (minimal, backend, full)
├── agents/                    # Specialized agent personas (14 agents)
└── output-styles/             # Response formatting options (10 styles)
```

## MCP Server Configuration

### .mcp.json File

The `.mcp.json` file contains project-specific MCP (Model Context Protocol) server configurations. This file is automatically generated from your global Claude Code configuration.

### Managing MCP Servers

Use the `claude mcp` command to manage MCP server configurations:

```bash
# List all configured MCP servers
claude mcp list

# Get details about a specific server
claude mcp get <server-name>

# Add a new MCP server
claude mcp add <name> <commandOrUrl> [args...]

# Add MCP server with JSON configuration
claude mcp add-json <name> <json-config>

# Import servers from Claude Desktop
claude mcp add-from-claude-desktop

# Remove an MCP server
claude mcp remove <name>

# Reset project-scoped server choices
claude mcp reset-project-choices
```

### Current MCP Servers

The `.mcp.json` file includes these servers:

- **serena** - Semantic code analysis & project memory via `uvx` from GitHub
- **sequential-thinking** - Multi-step reasoning engine via `@modelcontextprotocol/server-sequential-thinking`
- **context7** - Official library documentation lookup via `@upstash/context7-mcp`
- **playwright** - Browser automation & E2E testing via `@playwright/mcp@latest`
- **markdown** - Unified markdown processing with MQ selectors and Obsidian features

## Profile Management System

The profile system allows efficient context management by loading only the MCP servers needed for specific development scenarios. This significantly reduces context token usage and improves Claude Code performance.

### Available Profiles

| Profile | MCP Servers | Context Savings | Use Case |
|---------|-------------|-----------------|----------|
| **minimal** | serena, sequential-thinking, context7 | ~30k tokens (15%) | Essential development tools with documentation |
| **backend** | serena, sequential-thinking, context7 | ~30k tokens (15%) | Backend development (same as minimal) |
| **full** | All 5 MCP servers | baseline | Complete functionality |

### Profile Management Commands

```bash
# Switch between profiles
claude-profile switch minimal    # Essential tools with documentation (saves ~30k tokens)
claude-profile switch backend    # Backend development (saves ~30k tokens)
claude-profile switch full       # All functionality enabled

# Information commands
claude-profile list              # Show all available profiles
claude-profile show              # Display current profile and active MCPs

# Backup and restore
claude-profile backup            # Create manual backup
claude-profile restore [backup]  # Restore from backup
```

### Profile Structure

Each profile consists of:
```
profiles/minimal/
└── .mcp.json        # MCP server definitions for this profile
```

### Safety Features

- **Automatic backups** before every profile switch
- **JSON validation** prevents configuration corruption  
- **Rollback capability** on errors
- **Manual backup/restore** system for emergency recovery

### Detailed Documentation

For comprehensive usage examples, development workflows, and advanced configuration:
- **[Profile Usage Guide](./PROFILE_USAGE_GUIDE.md)** - Complete guide with practical examples and best practices

## Specialized Agents

The `agents/` directory contains 14 specialized agent personas that can be activated for specific development tasks:

- **backend-architect** - Reliable backend systems and API design
- **devops-architect** - Infrastructure automation and deployment
- **frontend-architect** - Accessible, performant user interfaces
- **learning-guide** - Programming education and concept explanation
- **performance-engineer** - System optimization and bottleneck analysis
- **python-expert** - Production-ready Python development
- **quality-engineer** - Comprehensive testing strategies
- **refactoring-expert** - Code quality improvement and technical debt reduction
- **requirements-analyst** - Project specification and requirements discovery
- **root-cause-analyst** - Systematic problem investigation
- **security-engineer** - Security vulnerability assessment and compliance
- **socratic-mentor** - Educational guidance through Socratic questioning
- **system-architect** - Scalable system design and architecture
- **technical-writer** - Clear, comprehensive technical documentation

## Output Styles

The `output-styles/` directory provides 10 different response formatting options:

- **bullet-points** - Hierarchical bullet points for quick scanning
- **genui** - Generative UI with embedded modern styling
- **html-structured** - Clean semantic HTML with proper structure
- **japanese-furigana** - Japanese text processing with automatic furigana
- **markdown-focused** - Full markdown features for maximum readability
- **streamlit** - Interactive Streamlit apps with visualizations
- **table-based** - Markdown tables for better organization
- **tts-summary** - Audio task completion announcements
- **ultra-concise** - Minimal words, maximum speed, direct actions
- **yaml-structured** - Structured YAML with hierarchical key-value pairs

## Configuration Files

### CLAUDE.md
The main behavioral configuration file that defines:
- Core development principles and file operation priorities
- Response behavior and verification protocols
- Code guidelines and performance optimization rules
- MCP server documentation and usage patterns

### settings.json
Contains Claude Code settings including:
- Permission management (allow/deny lists)
- Custom status line configuration
- Tool access controls

## Usage

This configuration setup enables enhanced AI-assisted development through:

1. **Profile-Based Context Management** - Switch between minimal, backend, and full profiles to optimize token usage
2. **Specialized Agent Activation** - Trigger specific agent personas for focused expertise  
3. **Flexible Output Formatting** - Choose optimal response formats for different contexts
4. **MCP Server Integration** - Leverage external tools and services through standardized protocols
5. **Behavioral Customization** - Fine-tune Claude's responses and decision-making patterns

### Typical Workflow

```bash
# Start with minimal profile for development with documentation
claude-profile switch minimal
claude  # Start Claude session with ~30k fewer context tokens

# Backend profile is equivalent to minimal (both include context7)
claude-profile switch backend  
# Same MCP servers as minimal

# Use full profile for complex tasks requiring all tools
claude-profile switch full
# Restart Claude for browser automation, markdown processing, etc.
```

The configuration provides modular, extensible AI assistance while maintaining consistency across development workflows through MCP servers, specialized agents, and behavioral guidelines.
